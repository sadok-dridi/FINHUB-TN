<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.text.*?>
<?import javafx.scene.image.ImageView?>

<ScrollPane xmlns:fx="http://javafx.com/fxml"
            fx:controller="org.example.controller.SignupController"
            fitToWidth="true" fitToHeight="true"
            stylesheets="@styles.css"
            style="-fx-background-color: linear-gradient(to bottom, #667eea, #764ba2);">

    <VBox alignment="CENTER" spacing="20"
          style="-fx-padding: 40; -fx-background-color: transparent;">

        <VBox alignment="CENTER" spacing="20"
              style="-fx-background-color: white; -fx-background-radius: 10; -fx-padding: 30; -fx-effect: dropshadow(three-pass-box, rgba(0,0,0,0.1), 10, 0, 0, 10);"
              maxWidth="500">

            <Text text="Créer un compte"
                  style="-fx-font-size: 28px; -fx-font-weight: bold; -fx-fill: #333;"/>

            <Text text="Rejoignez notre plateforme"
                  style="-fx-font-size: 14px; -fx-fill: #666;"/>

            <!-- Photo de profil -->
            <VBox alignment="CENTER" spacing="10">
                <ImageView fx:id="profileImageView"
                           fitWidth="120" fitHeight="120"
                           style="-fx-background-color: #f0f0f0; -fx-background-radius: 60; -fx-border-radius: 60; -fx-border-color: #ddd; -fx-border-width: 2;"
                           preserveRatio="true"/>

                <Button fx:id="uploadImageButton" text="Choisir une photo"
                        style="-fx-background-color: #f0f0f0; -fx-text-fill: #333; -fx-font-size: 12px; -fx-padding: 5 15; -fx-background-radius: 5;"
                        onAction="#handleUploadImage"/>
            </VBox>

            <!-- Formulaire -->
            <GridPane hgap="10" vgap="10" alignment="CENTER">
                <padding>
                    <Insets top="10" bottom="10"/>
                </padding>

                <!-- Nom -->
                <Label text="Nom *" GridPane.rowIndex="0" GridPane.columnIndex="0"
                       style="-fx-font-weight: bold; -fx-text-fill: #333;"/>
                <TextField fx:id="nomField" promptText="Votre nom"
                           GridPane.rowIndex="0" GridPane.columnIndex="1"
                           style="-fx-pref-width: 300; -fx-padding: 8; -fx-background-radius: 5; -fx-border-radius: 5; -fx-border-color: #ddd;"/>

                <!-- Prénom -->
                <Label text="Prénom *" GridPane.rowIndex="1" GridPane.columnIndex="0"
                       style="-fx-font-weight: bold; -fx-text-fill: #333;"/>
                <TextField fx:id="prenomField" promptText="Votre prénom"
                           GridPane.rowIndex="1" GridPane.columnIndex="1"
                           style="-fx-pref-width: 300; -fx-padding: 8; -fx-background-radius: 5; -fx-border-radius: 5; -fx-border-color: #ddd;"/>

                <!-- Date naissance -->
                <Label text="Date naissance" GridPane.rowIndex="2" GridPane.columnIndex="0"
                       style="-fx-font-weight: bold; -fx-text-fill: #333;"/>
                <DatePicker fx:id="dateNaissancePicker"
                            GridPane.rowIndex="2" GridPane.columnIndex="1"
                            promptText="JJ/MM/AAAA"
                            style="-fx-pref-width: 300; -fx-padding: 5; -fx-background-radius: 5; -fx-border-radius: 5; -fx-border-color: #ddd;"/>

                <!-- Email -->
                <Label text="Email *" GridPane.rowIndex="3" GridPane.columnIndex="0"
                       style="-fx-font-weight: bold; -fx-text-fill: #333;"/>
                <TextField fx:id="mailField" promptText="votre@email.com"
                           GridPane.rowIndex="3" GridPane.columnIndex="1"
                           style="-fx-pref-width: 300; -fx-padding: 8; -fx-background-radius: 5; -fx-border-radius: 5; -fx-border-color: #ddd;"/>

                <!-- Téléphone -->
                <Label text="Téléphone" GridPane.rowIndex="4" GridPane.columnIndex="0"
                       style="-fx-font-weight: bold; -fx-text-fill: #333;"/>
                <TextField fx:id="numTelField" promptText="+33 6 12 34 56 78"
                           GridPane.rowIndex="4" GridPane.columnIndex="1"
                           style="-fx-pref-width: 300; -fx-padding: 8; -fx-background-radius: 5; -fx-border-radius: 5; -fx-border-color: #ddd;"/>

                <!-- Mot de passe -->
                <Label text="Mot de passe *" GridPane.rowIndex="5" GridPane.columnIndex="0"
                       style="-fx-font-weight: bold; -fx-text-fill: #333;"/>
                <PasswordField fx:id="motDePasseField" promptText="Minimum 6 caractères"
                               GridPane.rowIndex="5" GridPane.columnIndex="1"
                               style="-fx-pref-width: 300; -fx-padding: 8; -fx-background-radius: 5; -fx-border-radius: 5; -fx-border-color: #ddd;"/>

                <!-- Confirmer mot de passe -->
                <Label text="Confirmer *" GridPane.rowIndex="6" GridPane.columnIndex="0"
                       style="-fx-font-weight: bold; -fx-text-fill: #333;"/>
                <PasswordField fx:id="confirmMotDePasseField" promptText="Confirmer le mot de passe"
                               GridPane.rowIndex="6" GridPane.columnIndex="1"
                               style="-fx-pref-width: 300; -fx-padding: 8; -fx-background-radius: 5; -fx-border-radius: 5; -fx-border-color: #ddd;"/>
            </GridPane>

            <!-- Message d'erreur -->
            <Label fx:id="errorLabel" style="-fx-text-fill: red; -fx-font-size: 12px;"
                   wrapText="true" maxWidth="400" alignment="CENTER"/>

            <!-- Boutons -->
            <HBox spacing="15" alignment="CENTER">
                <Button fx:id="signupButton" text="S'inscrire"
                        style="-fx-padding: 10 30; -fx-background-color: linear-gradient(to right, #667eea, #764ba2); -fx-text-fill: white; -fx-font-weight: bold; -fx-background-radius: 5; -fx-font-size: 14px;"
                        onAction="#handleSignup"/>

                <Button fx:id="cancelButton" text="Annuler"
                        style="-fx-padding: 10 30; -fx-background-color: #f0f0f0; -fx-text-fill: #333; -fx-font-weight: bold; -fx-background-radius: 5; -fx-font-size: 14px;"
                        onAction="#handleCancel"/>
            </HBox>

            <!-- Lien vers connexion -->
            <HBox alignment="CENTER" spacing="5">
                <Label text="Déjà inscrit?" style="-fx-text-fill: #666;"/>
                <Hyperlink fx:id="loginLink" text="Se connecter"
                           onAction="#handleLoginLink"
                           style="-fx-text-fill: #667eea; -fx-font-weight: bold; -fx-border-color: transparent;"/>
            </HBox>

            <Text text="* Champs obligatoires"
                  style="-fx-font-size: 11px; -fx-fill: #999;"/>
        </VBox>
    </VBox>
</ScrollPane>