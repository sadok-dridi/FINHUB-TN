/* Modern Dark Fintech Theme */
.root {
    /* Branding Colors */
    -color-primary: #8B5CF6;
    /* Violet 500 */
    -color-primary-hover: #7C3AED;
    /* Violet 600 */
    -color-secondary: #D946EF;
    /* Fuchsia 500 - Gradient accent */

    /* Dark Mode Palette */
    -color-bg: #0F0E17;
    /* Deep Dark Violet/Black */
    -color-card-bg: #1E1B2E;
    /* Lighter Dark Violet */
    -color-bg-dark: #1E1B2E;
    /* Same as card background for now, or slightly darker if needed */
    -color-card-border: #2E2A45;

    /* Text */
    -color-text-primary: #F3F4F6;
    /* Cool White */
    -color-text-secondary: #9CA3AF;
    /* Cool Gray */
    -color-text-muted: #6B7280;

    /* States */
    -color-success: #10B981;
    /* Emerald 500 */
    -color-error: #EF4444;
    /* Red 500 */

    /* UI Elements */
    -input-bg: #2D2A40;
    -input-border: #3F3C55;



    /* Base JavaFX overrides */
    -fx-background-color: -color-bg;
    -fx-font-family: "Segoe UI", "Inter", sans-serif;
    -fx-font-size: 14px;
    -fx-text-fill: -color-text-primary;
}

/* --- Typography --- */
.header-text {
    -fx-font-size: 28px;
    -fx-font-weight: bold;
    -fx-text-fill: -color-text-primary;
    -fx-effect: dropshadow(three-pass-box, rgba(139, 92, 246, 0.3), 10, 0, 0, 0);
}

.sub-header-text {
    -fx-font-size: 14px;
    -fx-text-fill: -color-text-secondary;
}

/* --- Cards --- */
.card {
    -fx-background-color: -color-card-bg;
    -fx-background-radius: 16px;
    -fx-border-color: -color-card-border;
    -fx-border-width: 1px;
    -fx-border-radius: 16px;
    -fx-effect: dropshadow(three-pass-box, rgba(0, 0, 0, 0.4), 20, 0, 0, 8);
    -fx-padding: 30;
}

/* --- Buttons --- */
.button-primary {
    -fx-background-color: linear-gradient(to right, -color-primary, -color-secondary);
    -fx-text-fill: white;
    -fx-font-weight: bold;
    -fx-background-radius: 16px;
    -fx-padding: 12 24;
    -fx-cursor: hand;
    -fx-effect: dropshadow(three-pass-box, rgba(139, 92, 246, 0.4), 15, 0, 0, 5);
}

.button-primary:hover {
    -fx-background-color: linear-gradient(to right, -color-primary-hover, -color-primary);
    -fx-scale-x: 1.03;
    -fx-scale-y: 1.03;
}

.button-icon {
    -fx-background-color: transparent;
    -fx-text-fill: -color-text-secondary;
    -fx-cursor: hand;
    -fx-font-size: 14px;
}

.button-icon:hover {
    -fx-background-color: rgba(255, 255, 255, 0.05);
    -fx-text-fill: white;
    -fx-background-radius: 50%;
}

/* --- Text Fields --- */
.text-field {
    -fx-background-color: -input-bg;
    -fx-border-color: -input-border;
    -fx-border-radius: 12px;
    -fx-background-radius: 12px;
    -fx-padding: 12;
    -fx-text-fill: white;
    /* Warning: JavaFX text-field uses -fx-text-fill */
    -fx-prompt-text-fill: -color-text-muted;
}

.text-field:focused {
    -fx-border-color: -color-primary;
    -fx-background-color: -input-bg;
    -fx-effect: dropshadow(three-pass-box, rgba(139, 92, 246, 0.25), 8, 0, 0, 0);
}

/* --- ComboBox --- */
/* --- ComboBox --- */
.combo-box {
    -fx-background-color: -input-bg;
    -fx-border-color: -input-border;
    -fx-border-radius: 12px;
    -fx-background-radius: 12px;
    -fx-padding: 8 12;
    /* More padding for a clickable feel */
    -fx-min-height: 45px;
    /* Consistent height */
}

.combo-box:hover {
    -fx-border-color: -color-text-secondary;
}

.combo-box:showing {
    -fx-border-color: -color-primary;
}

/* The text field area inside the combo box */
.combo-box .list-cell {
    -fx-background-color: transparent;
    -fx-text-fill: white;
    -fx-padding: 0;
}

/* The arrow button on the right */
.combo-box .arrow-button {
    -fx-background-color: transparent;
    -fx-padding: 0 10 0 0;
}

.combo-box .arrow {
    -fx-background-color: -color-text-secondary;
    -fx-mark-color: -color-text-secondary;
}

.combo-box:hover .arrow {
    -fx-background-color: white;
}

/* The popup list */
.combo-box-popup .list-view {
    -fx-background-color: -color-card-bg;
    -fx-border-color: -color-card-border;
    -fx-border-width: 1px;
    -fx-effect: dropshadow(three-pass-box, rgba(0, 0, 0, 0.5), 15, 0, 5, 5);
    -fx-padding: 5;
    -fx-background-radius: 8px;
    /* Rounded corners for the dropdown */
    -fx-border-radius: 8px;
}

/* Items in the dropdown */
.combo-box-popup .list-view .list-cell {
    -fx-background-color: transparent;
    -fx-text-fill: -color-text-secondary;
    -fx-padding: 10 15;
    -fx-font-size: 14px;
    -fx-background-radius: 4px;
    /* Slight rounding for items */
}

.combo-box-popup .list-view .list-cell:hover {
    -fx-background-color: rgba(139, 92, 246, 0.1);
    /* Subtle primary tint */
    -fx-text-fill: white;
    -fx-cursor: hand;
}

.combo-box-popup .list-view .list-cell:filled:selected,
.combo-box-popup .list-view .list-cell:filled:selected:hover {
    -fx-background-color: -color-primary;
    -fx-text-fill: white;
}

/* --- Sidebar --- */
.sidebar {
    -fx-background-color: linear-gradient(to bottom right, #2D2A40, #1E1B2E);
    -fx-padding: 25;
    -fx-effect: dropshadow(three-pass-box, rgba(0, 0, 0, 0.4), 15, 0, 0, 0);
    -fx-border-color: transparent -color-card-border transparent transparent;
    -fx-border-width: 0 1 0 0;
}

.sidebar-button {
    -fx-alignment: CENTER_LEFT;
    -fx-background-color: transparent;
    -fx-text-fill: -color-text-secondary;
    -fx-padding: 10;
    -fx-background-radius: 8px;
    -fx-cursor: hand;
    -fx-font-family: "Segoe UI", sans-serif;
    -fx-font-size: 14px;
}

.sidebar-button:hover {
    -fx-background-color: rgba(255, 255, 255, 0.05);
    -fx-text-fill: -color-text-primary;
}

.sidebar-button:hover .sidebar-icon {
    -fx-fill: -color-text-primary;
}

.sidebar-button-danger {
    -fx-alignment: CENTER_LEFT;
    -fx-background-color: transparent;
    -fx-text-fill: -color-error;
    -fx-padding: 10;
    -fx-cursor: hand;
}

.sidebar-button-danger:hover {
    -fx-background-color: rgba(239, 68, 68, 0.1);
}

.sidebar-icon {
    -fx-fill: -color-text-secondary;
    -fx-scale-x: 0.8;
    -fx-scale-y: 0.8;
}

/* --- Logo --- */
.logo-text {
    -fx-font-family: "Segoe UI", "Inter", sans-serif;
    -fx-font-size: 18px;
    -fx-font-weight: 900;
    -fx-text-fill: -color-text-primary;
}

.logo-text-accent {
    -fx-font-family: "Segoe UI", "Inter", sans-serif;
    -fx-font-size: 18px;
    -fx-font-weight: 900;
    -fx-text-fill: -color-primary;
}

/* --- Improved Window Controls --- */
.window-button {
    -fx-background-color: transparent;
    -fx-padding: 8 12;
    -fx-background-radius: 8px;
    -fx-cursor: hand;
}

.window-button:hover {
    -fx-background-color: rgba(255, 255, 255, 0.1);
}

.window-button.window-close:hover {
    -fx-background-color: -color-error;
}

.window-button.window-close:hover .window-button-icon {
    -fx-fill: white;
    -fx-stroke: white;
}

.window-button-icon {
    -fx-fill: -color-text-secondary;
    -fx-stroke: -color-text-secondary;
    -fx-stroke-width: 1.5;
}

/* --- Hyperlinks --- */
.hyperlink {
    -fx-text-fill: -color-secondary;
    /* Pinkish accent for links */
    -fx-border-color: transparent;
    -fx-underline: false;
}

.hyperlink:hover {
    -fx-underline: true;
    -fx-text-fill: white;
}

/* --- Window Controls --- */
.window-bar {
    -fx-background-color: -color-card-bg;
    /* Dark header */
    -fx-padding: 10 20;
    -fx-effect: dropshadow(three-pass-box, rgba(0, 0, 0, 0.2), 10, 0, 0, 4);
    -fx-border-color: transparent transparent -color-card-border transparent;
}

.window-title {
    -fx-font-weight: bold;
    -fx-font-size: 14px;
    -fx-text-fill: -color-text-primary;
}

.window-close-button {
    -fx-background-color: transparent;
    -fx-text-fill: -color-text-secondary;
    -fx-font-family: "Segoe MDL2 Assets", "Arial";
    -fx-font-size: 12px;
}

.window-close-button:hover {
    -fx-background-color: -color-error;
    -fx-text-fill: white;
}

/* --- TableView (Admin) --- */
.table-view {
    -fx-background-color: transparent;
    -fx-border-color: transparent;
}

.table-view .column-header-background {
    -fx-background-color: -color-card-bg;
    -fx-border-color: transparent transparent -color-primary transparent;
    -fx-border-width: 0 0 2px 0;
}

.table-view .column-header .label {
    -fx-text-fill: -color-text-secondary;
    -fx-font-weight: bold;
}

.table-row-cell {
    -fx-background-color: -color-card-bg;
    -fx-border-color: transparent transparent -input-border transparent;
}

.table-row-cell:odd {
    -fx-background-color: derive(-color-card-bg, 5%);
}

.table-row-cell:selected {
    -fx-background-color: rgba(139, 92, 246, 0.2);
}

.table-row-cell .text {
    -fx-fill: white;
}

/* --- ScrollBar --- */
.scroll-bar:vertical {
    -fx-background-color: transparent;
}

.scroll-bar:vertical .thumb {
    -fx-background-color: -input-border;
    -fx-background-radius: 10px;
}

/* --- Admin User Cards --- */
.user-card {
    -fx-background-color: -color-card-bg;
    -fx-background-radius: 16px;
    -fx-border-color: -color-card-border;
    -fx-border-width: 1px;
    -fx-border-radius: 16px;
    -fx-padding: 20;
    -fx-effect: dropshadow(three-pass-box, rgba(0, 0, 0, 0.2), 10, 0, 0, 2);
    -fx-min-width: 280px;
    -fx-pref-width: 280px;
    -fx-max-width: 280px;
}

.user-card-hover {
    -fx-background-color: derive(-color-card-bg, 5%);
    -fx-border-color: -color-primary;
    -fx-effect: dropshadow(three-pass-box, rgba(139, 92, 246, 0.3), 15, 0, 0, 5);
    -fx-scale-x: 1.02;
    -fx-scale-y: 1.02;
    -fx-cursor: hand;
}

.role-badge {
    -fx-background-radius: 6px;
    -fx-padding: 2 6;
    -fx-font-size: 10px;
    -fx-font-weight: bold;
}

.search-field {
    -fx-background-color: -input-bg;
    -fx-border-color: -input-border;
    -fx-border-radius: 20px;
    -fx-background-radius: 20px;
    -fx-padding: 8 16;
    -fx-text-fill: white;
    -fx-prompt-text-fill: -color-text-muted;
}

.search-field:focused {
    -fx-border-color: -color-primary;
    -fx-effect: dropshadow(three-pass-box, rgba(139, 92, 246, 0.2), 8, 0, 0, 0);
}

.button-small-primary {
    -fx-background-color: -color-primary;
    -fx-text-fill: white;
    -fx-font-size: 11px;
    -fx-padding: 5 10;
    -fx-background-radius: 6px;
    -fx-cursor: hand;
}

.button-small-primary:hover {
    -fx-background-color: -color-primary-hover;
}

.button-small-danger {
    -fx-background-color: transparent;
    -fx-border-color: -color-error;
    -fx-border-radius: 6px;
    -fx-text-fill: -color-error;
    -fx-font-size: 11px;
    -fx-padding: 4 9;
    /* compensate border */
    -fx-background-radius: 6px;
    -fx-cursor: hand;
}

/* --- Wallet Gradients --- */
/* --- Wallet Gradients (Refined) --- */
.card-balance {
    -fx-background-color: -color-card-bg;
    -fx-background-radius: 16px;
    -fx-border-color: #10B981;
    -fx-border-width: 2px;
    -fx-border-radius: 16px;
    -fx-effect: dropshadow(three-pass-box, rgba(16, 185, 129, 0.5), 15, 0, 0, 0);
    -fx-padding: 30;
}

.card-escrow {
    -fx-background-color: -color-card-bg;
    -fx-background-radius: 16px;
    -fx-border-color: #F59E0B;
    -fx-border-width: 2px;
    -fx-border-radius: 16px;
    -fx-effect: dropshadow(three-pass-box, rgba(245, 158, 11, 0.5), 15, 0, 0, 0);
    -fx-padding: 30;
}

.card-total {
    -fx-background-color: -color-card-bg;
    -fx-background-radius: 16px;
    -fx-border-color: #6366F1;
    -fx-border-width: 2px;
    -fx-border-radius: 16px;
    -fx-effect: dropshadow(three-pass-box, rgba(99, 102, 241, 0.5), 15, 0, 0, 0);
    -fx-padding: 30;
}

/* --- Virtual Card Spoiler Effect --- */



/* --- Transaction List --- */
/* --- Transaction List --- */
.transaction-item {
    -fx-background-color: -color-card-bg;
    -fx-background-radius: 12px;
    -fx-padding: 20;
    -fx-effect: dropshadow(three-pass-box, rgba(0, 0, 0, 0.1), 5, 0, 0, 2);
    -fx-border-color: -color-card-border;
    -fx-border-width: 1px;
    -fx-border-radius: 12px;
}

.transaction-item:hover {
    -fx-background-color: derive(-color-card-bg, 5%);
    -fx-cursor: hand;
}

/* --- Dark Scrollbar Styling --- */
.scroll-bar {
    -fx-background-color: transparent;
}

.scroll-bar:horizontal .track,
.scroll-bar:vertical .track {
    -fx-background-color: transparent;
    -fx-border-color: transparent;
    -fx-background-radius: 0em;
}

.scroll-bar:vertical .increment-button,
.scroll-bar:vertical .decrement-button {
    -fx-background-color: transparent;
    -fx-background-radius: 0em;
    -fx-padding: 0 0 10 0;
}

.scroll-bar:vertical .thumb {
    -fx-background-color: #374151;
    -fx-background-radius: 5em;
}

.scroll-bar:vertical .thumb:hover {
    -fx-background-color: #4B5563;
}

.transaction-icon-bg {
    -fx-background-color: rgba(255, 255, 255, 0.1);
    -fx-background-radius: 50%;
}

.amount-positive {
    -fx-text-fill: -color-success;
    -fx-font-weight: bold;
    -fx-font-size: 16px;
}

.amount-negative {
    -fx-text-fill: -color-text-primary;
    -fx-font-weight: bold;
    -fx-font-size: 16px;
}

.amount-hold {
    -fx-font-weight: bold;
    -fx-font-size: 16px;
}

/* --- Deposit Dialog --- */
.deposit-dialog {
    -fx-background-color: -color-card-bg;
    -fx-background-radius: 20px;
    -fx-border-radius: 20px;
    -fx-border-color: -color-card-border;
    -fx-border-width: 1px;
    -fx-padding: 30;
    -fx-effect: dropshadow(three-pass-box, rgba(0, 0, 0, 0.5), 30, 0, 0, 10);
}

.amount-input-container {
    -fx-background-color: rgba(139, 92, 246, 0.1);
    /* Very subtle violet tint */
    -fx-background-radius: 12px;
    -fx-border-color: -color-primary;
    -fx-border-radius: 12px;
    -fx-padding: 15;
}

.currency-label {
    -fx-text-fill: -color-primary;
    -fx-font-weight: bold;
    -fx-font-size: 20px;
}

.amount-field-large {
    -fx-background-color: transparent;
    -fx-text-fill: white;
    -fx-font-size: 24px;
    -fx-font-weight: bold;
    -fx-prompt-text-fill: -color-text-muted;
    -fx-padding: 0;
    -fx-border-width: 0;
}

.amount-field-large:focused {
    -fx-background-color: transparent;
    -fx-border-width: 0;
    -fx-effect: null;
}

.card-form-container {
    -fx-background-color: -input-bg;
    -fx-padding: 20;
    -fx-background-radius: 16px;
    -fx-border-color: -input-border;
    -fx-border-radius: 16px;
}

.section-label {
    -fx-text-fill: -color-text-primary;
    -fx-font-weight: bold;
    -fx-font-size: 14px;
}

/* --- Dialog Icons --- */
.dialog-icon-container {
    -fx-background-radius: 50%;
    -fx-min-width: 50px;
    -fx-min-height: 50px;
    -fx-max-width: 50px;
    -fx-max-height: 50px;
    -fx-alignment: center;
}

.dialog-icon-warning {
    -fx-background-color: rgba(239, 68, 68, 0.1);
}

.dialog-icon-error {
    -fx-background-color: rgba(239, 68, 68, 0.1);
}

.dialog-icon-info {
    -fx-background-color: rgba(139, 92, 246, 0.1);
}

/* --- Transaction List Items --- */
.transaction-ref {
    -fx-text-fill: white;
    -fx-font-weight: bold;
    -fx-font-size: 14px;
}

.transaction-date {
    -fx-text-fill: -color-text-secondary;
    -fx-font-size: 12px;
}

.transaction-icon {
    -fx-fill: white;
}

/* --- Transparent Window & Controls --- */
.window-close-icon {
    -fx-fill: -color-text-secondary;
    -fx-cursor: hand;
}

.window-close-icon:hover {
    -fx-fill: -color-error;
}

.button-text-secondary {
    -fx-background-color: transparent;
    -fx-text-fill: -color-text-secondary;
    -fx-font-weight: bold;
    -fx-font-size: 14px;
    -fx-cursor: hand;
    -fx-padding: 8 16;
}

.button-text-secondary:hover {
    -fx-text-fill: white;
    -fx-background-color: rgba(255, 255, 255, 0.05);
    -fx-background-radius: 8px;
}

/* --- Virtual Card --- */
/* --- Virtual Card --- */
.virtual-card {
    -fx-background-color: #1E1B2E;
    /* Hardcoded opaque dark color */
    -fx-background-radius: 16px;
    -fx-border-color: #3B82F6;
    -fx-border-width: 2px;
    -fx-border-radius: 16px;
    -fx-effect: dropshadow(three-pass-box, rgba(59, 130, 246, 0.4), 25, 0, 0, 0);
    -fx-padding: 25;
    -fx-min-width: 340px;
    -fx-min-height: 210px;
    -fx-max-width: 340px;
    -fx-max-height: 210px;
}

.virtual-card-chip {
    -fx-fill: linear-gradient(to bottom right, #FCD34D, #B45309);
    -fx-effect: dropshadow(three-pass-box, rgba(0, 0, 0, 0.3), 2, 0, 1, 1);
}

.virtual-card-number {
    -fx-text-fill: white;
    -fx-font-family: "Consolas", "Monospaced", "Courier New";
    -fx-font-size: 26px;
    -fx-font-weight: bold;
    -fx-letter-spacing: 3px;
    -fx-effect: dropshadow(gaussian, rgba(0, 0, 0, 0.5), 1, 0, 1, 1);
}

.virtual-card-label {
    -fx-text-fill: rgba(255, 255, 255, 0.8);
    -fx-font-size: 11px;
    -fx-font-weight: bold;
    -fx-text-transform: uppercase;
}

.virtual-card-value {
    -fx-text-fill: white;
    -fx-font-size: 15px;
    -fx-font-weight: bold;
    -fx-effect: dropshadow(gaussian, rgba(0, 0, 0, 0.5), 1, 0, 1, 1);
}

.virtual-card-logo {
    -fx-fill: white;
    -fx-font-weight: 900;
    -fx-font-style: italic;
    -fx-font-size: 28px;
    -fx-effect: dropshadow(gaussian, rgba(0, 0, 0, 0.3), 2, 0, 2, 2);
}