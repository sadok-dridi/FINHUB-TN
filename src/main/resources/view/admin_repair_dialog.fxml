<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.layout.HBox?>

<VBox spacing="25.0" styleClass="deposit-dialog" xmlns="http://javafx.com/javafx/20.0.1" xmlns:fx="http://javafx.com/fxml/1" fx:controller="tn.finhub.controller.AdminRepairDialogController"
      style="-fx-background-color: -color-card-bg; -fx-padding: 30; -fx-background-radius: 16; -fx-border-color: #EF4444; -fx-border-width: 1; -fx-effect: dropshadow(three-pass-box, rgba(0,0,0,0.4), 20, 0, 0, 0);">
   <children>
      <HBox alignment="CENTER_LEFT" spacing="10.0">
          <VBox spacing="5.0" alignment="CENTER_LEFT" HBox.hgrow="ALWAYS">
              <Label text="Ledger Repair" styleClass="header-text" style="-fx-text-fill: #EF4444;"/>
              <Label text="Restore corrupted transaction" styleClass="sub-header-text"/>
          </VBox>
      </HBox>
      
      <VBox spacing="10.0" style="-fx-background-color: rgba(239, 68, 68, 0.1); -fx-padding: 10; -fx-background-radius: 8;">
         <Label text="Correction Required" style="-fx-text-fill: #EF4444; -fx-font-weight: bold;"/>
         <Label text="Modify the values below to match the original transaction state reflected by the hash." wrapText="true" style="-fx-text-fill: #EF4444; -fx-font-size: 11px;"/>
         <Label fx:id="hashLabel" text="Hash: ..." style="-fx-font-family: 'Monospaced'; -fx-text-fill: #EF4444; -fx-font-size: 10px;"/>
         <Label fx:id="correctionHintLabel" text="Calculating..." style="-fx-text-fill: -color-text-primary; -fx-font-size: 11px; -fx-font-weight: bold;"/>
      </VBox>

      <VBox spacing="15.0">
         <VBox spacing="5.0">
             <Label text="Amount" style="-fx-text-fill: -color-text-secondary;"/>
             <TextField fx:id="amountField" styleClass="text-field"/>
         </VBox>

         <VBox spacing="5.0">
             <Label text="Reference" style="-fx-text-fill: -color-text-secondary;"/>
             <TextField fx:id="refField" styleClass="text-field"/>
         </VBox>
      </VBox>
      
      <HBox spacing="15.0" alignment="CENTER_RIGHT" style="-fx-padding: 10 0 0 0;">
          <Button text="Cancel" onAction="#handleCancel" styleClass="button-text-secondary"/>
          <Button text="Save &amp; Restore" onAction="#handleSave" styleClass="button-primary" style="-fx-background-color: #EF4444;"/>
      </HBox>
   </children>
</VBox>
