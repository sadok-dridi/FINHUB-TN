<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.Pane?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.shape.SVGPath?>

<BorderPane xmlns:fx="http://javafx.com/fxml"
            fx:controller="tn.finhub.controller.MainLayoutController"
            fx:id="mainContainer"
            styleClass="main-window-border"
            prefWidth="1024" prefHeight="768"
            style="-fx-background-color: transparent; -fx-padding: 10;">
            
    <!-- We add padding to the root to allow space for the drop shadow of the inner content -->

    <center>
        <BorderPane fx:id="innerContainer" style="-fx-background-color: -color-bg; -fx-background-radius: 12px; -fx-effect: dropshadow(three-pass-box, rgba(0,0,0,0.3), 10, 0, 0, 0);">
            
            <top>
                <HBox fx:id="titleBar" spacing="10" alignment="CENTER_LEFT" styleClass="window-bar" onMousePressed="#handleWindowDrag" onMouseDragged="#handleWindowMove">
                    <HBox spacing="5" alignment="CENTER_LEFT">
                        <Label text="FINHUB" styleClass="logo-text"/>
                        <Label text="TN" styleClass="logo-text-accent"/>
                    </HBox>
                    <Region HBox.hgrow="ALWAYS"/>
                    <Button onAction="#handleMinimize" styleClass="window-button">
                        <graphic>
                            <SVGPath content="M 0 0 H 10 V 1 H 0 Z" styleClass="window-button-icon"/>
                        </graphic>
                    </Button>
                    <Button onAction="#handleMaximize" styleClass="window-button">
                        <graphic>
                            <SVGPath content="M 1 1 H 9 V 9 H 1 Z" styleClass="window-button-icon" style="-fx-fill: transparent;"/>
                        </graphic>
                    </Button>
                    <Button onAction="#handleClose" styleClass="window-button, window-close">
                        <graphic>
                            <SVGPath content="M 0 0 L 10 10 M 10 0 L 0 10" styleClass="window-button-icon"/>
                        </graphic>
                    </Button>
                </HBox>
            </top>
            
            <center>
                <StackPane>
                    <!-- Background Animation Layer -->
                    <Pane fx:id="backgroundAnimationPane" mouseTransparent="true"/>
                    
                    <!-- Main Content Layer -->
                    <StackPane fx:id="contentArea" id="contentArea"/>
                </StackPane>
            </center>
            
        </BorderPane>
    </center>

</BorderPane>
